<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pagecontent</title>

    <!-- Material Design -->
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        rel="stylesheet">
    <!-- ICON CSS -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css">


    <!-- globalstyle -->
    <link rel="stylesheet" href="../css/globalstyle.css">
    <!-- globalattributes -->
    <link rel="stylesheet" href="../css/globalattributes.css">

    <!-- 複數頁面使用CSS效果 -->
    <link rel="stylesheet" href="/css/pluralpagestyle.css">

    <style>
        /* 頁面格式 */
        table {
            text-align: center;
            width: 100%;
            table-layout: fixed;
        }

        th {
            text-align: left;
            padding-left: 3%;
            border: 1px solid var(--color-whitesmoke);
            color: var(--color-irongray);
            font-weight: var(--font-weight-contenttitle);
            background-color: var(--color-seashell);
        }

        td {
            text-align: left;
            border: 2px solid var(--color-whitesmoke);
        }

        /* 新增廠商按鈕------------ */
        .cooSet {
            float: right;
            font-size: var(--font-size-contenttitle);
            height: 36px;
            padding: 0px 16px;
            border-radius: 0.3rem;
            border: 1px solid var(--color-border);
            background-color: var(--color-marigold);
            color: var(--color-white);
        }

        /* 加入區塊-------------- */

        .accordion {
            color: var(--color-black);
            background-color: var(--color-jasmine);
            cursor: pointer;
            padding: 1%;
            width: 100%;
            border: 2px solid var(--color-border);
            border-top: none;
            border-left: none;
            border-right: none;
            text-align: left;
            outline: none;
            font-size: 15px;
            transition: 0.4s;
            /* opacity: 0.8; */
            font-weight: bold;

        }


        .active {
            background-color: var(--color-tangerine);
        }

        .accordion:hover {
            background-color: var(--color-border);
        }

        .panel {
            background-color: rgba(250, 250, 250, 0.864);
            /* display: none; */
        }

        .title {
            text-align: center;
            height: 30px;
            background-color: var(--color-burlywood);
            color: var(--color-black);

        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row justify-content-center">

            <!-- border border-primary  -->
            <div class="col-11 mt-4 px-0">

                <h1 class="fs-2 fw-bolder mb-4"><span class="text-black">廠商管理</span>

                    <button class="cooSet mt-2 mdc-button mdc-button--raised">
                        <span class="mdc-button__label fs-6 fw-normal">新增廠商</span>
                    </button>
                </h1>

                <div class="bg-white rounded-3 shadow-sm" style="width: 100%; height: 3vh">

                    <div>

                        <!-- 這裡是內容的框架，可直接改掉框架 -->
                        <!-- 達克生鮮股份有限公司 -->
                        <button class="accordion">達克生鮮股份有限公司</button>
                        <div class="panel">
                            <table class="cooperateTable">
                                <tr>
                                    <!-- <th colspan="4" class="title">廠商基本資料</th> -->
                                </tr>

                                <tr>
                                    <!-- <th>廠商名稱</th>
                                    <td>達克生鮮股份有限公司</td>
                                    <th>聯絡窗口</th>
                                    <td>蘇沐橙</td> -->
                                </tr>

                                <tr>
                                    <th>統一編號</th>
                                    <td>05076416</td>
                                    <th>廠商電話</th>
                                    <td>(04)-2326-5860</td>
                                </tr>

                                <tr>
                                    <th>傳真電話</th>
                                    <td>(04)-2326-5860</td>
                                    <th>窗口聯繫</th>
                                    <td>0912-345-678</td>
                                </tr>

                                <tr>
                                    <th>電子信箱</th>
                                    <td>amy680931@yahoo.com</td>
                                    <th>Line ID</th>
                                    <td>amy6809</td>
                                </tr>

                                <tr>
                                    <th>公司地址</th>
                                    <td colspan="3">408台中市南屯區公益路二段51號18樓</td>
                                </tr>

                                <tr>
                                    <th colspan="4" class="title">付款資料</th>
                                </tr>

                                <tr>
                                    <th>銀行名稱</th>
                                    <td>808玉山商業銀行</td>
                                    <th>付款方式</th>
                                    <td>
                                        <select style="width: 100%;">
                                            <option value="opTT">電匯(T/T)</option>
                                            <option value="opLC">電匯(L/C)</option>
                                            <option value="opDP">電匯(D/P)</option>
                                            </optgroup>
                                        </select>
                                    </td>
                                </tr>

                                <tr>
                                    <th>銀行帳戶</th>
                                    <td>12345678912345</td>
                                    <th>付款條件</th>
                                    <!-- <td>月結(Net30)</td> -->
                                    <td>
                                        <select style="width: 100%;">
                                            <optgroup label="月結">
                                                <option value="net30">月結(Net30)</option>
                                                <option value="tt30">月結(TT30)</option>
                                                <option value="oa30">月結(OA30)</option>
                                            </optgroup>
                                        </select>
                                    </td>
                                </tr>

                                <tr>
                                    <th>結帳日</th>
                                    <td>26</td>
                                </tr>



                            </table>
                        </div>

                        <br>
                    </div>

                    <!-- 傑克聯邦股份有限公司 -->
                    <button class="accordion">傑克聯邦股份有限公司</button>
                    <div class="panel">
                        <table class="cooperateTable">
                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>



                        </table>
                    </div>

                    <br>

                    <!-- 國亨企業社 -->
                    <button class="accordion">國亨企業社</button>
                    <div class="panel">
                        <table class="cooperateTable">
                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>



                        </table>
                    </div>

                    <br>

                    <!-- 聖祿食品股份有限公司 -->
                    <button class="accordion">聖祿食品股份有限公司</button>
                    <div class="panel">
                        <table class="cooperateTable">
                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>



                        </table>
                    </div>

                    <br>

                    <button class="accordion">千美生鮮股份有限公司</button>
                    <div class="panel">
                        <table class="cooperateTable">
                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>

                            <tr></tr>



                        </table>
                    </div>

                    <br>

                    <br>

                </div>

            </div>
        </div>
    </div>

    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.pack.js"></script>

    <script>
        // JSON假資料  ----------------------------------------------------------------------------------------------------------------------
        // CompanyName(廠商名稱)、TaxId(統一編號)、Fax(傳真電話)、Email(電子信箱)、Address(公司地址)
        // ContactPerson(聯絡窗口)、Mobile(廠商電話)、ContactPersonNum(窗口聯繫)、LineAccount(Line ID)
        // BankName(銀行名稱)、BankAccount(銀行帳戶)、accountDay(結帳日)、?(付款方式)、PaymentTerms(付款條件)

        var cooperateList =
            [
                {
                    CompanyName: "達克生鮮股份有限公司",
                    TaxId: "05076416",
                    Fax: "(04)-2326-5860",
                    Email: "amy680931@yahoo.com",
                    Address: "408台中市南屯區公益路二段51號18樓",
                    ContactPerson: "蘇沐橙",
                    Mobile: "(04)-2326-5860",
                    ContactPersonNum: "0912-345-678",
                    LineAccount: "amy6809",
                    BankName: "808玉山商業銀行",
                    BankAccount: "12345678912345",
                    accountDay: "26",
                    payMethod: "電匯(T/T)",
                    PaymentTerms: "月結(Net30)"

                },
                {
                    CompanyName: "傑克聯邦股份有限公司",
                    TaxId: "05076416",
                    Fax: "(04)-2326-5860",
                    Email: "amy680931@yahoo.com",
                    Address: "408台中市南屯區公益路二段51號18樓",
                    ContactPerson: "蘇沐橙",
                    Mobile: "(04)-2326-5860",
                    ContactPersonNum: "0912-345-678",
                    LineAccount: "amy6809",
                    BankName: "808玉山商業銀行",
                    BankAccount: "12345678912345",
                    accountDay: "26",
                    payMethod: "電匯(T/T)",
                    PaymentTerms: "月結(Net30)"

                },
                {
                    CompanyName: "國亨企業社",
                    TaxId: "05076416",
                    Fax: "(04)-2326-5860",
                    Email: "amy680931@yahoo.com",
                    Address: "408台中市南屯區公益路二段51號18樓",
                    ContactPerson: "蘇沐橙",
                    Mobile: "(04)-2326-5860",
                    ContactPersonNum: "0912-345-678",
                    LineAccount: "amy6809",
                    BankName: "808玉山商業銀行",
                    BankAccount: "12345678912345",
                    accountDay: "26",
                    payMethod: "電匯(T/T)",
                    PaymentTerms: "月結(Net30)"

                },
                {
                    CompanyName: "聖祿食品股份有限公司",
                    TaxId: "05076416",
                    Fax: "(04)-2326-5860",
                    Email: "amy680931@yahoo.com",
                    Address: "408台中市南屯區公益路二段51號18樓",
                    ContactPerson: "蘇沐橙",
                    Mobile: "(04)-2326-1160",
                    ContactPersonNum: "0912-345-678",
                    LineAccount: "amy6809",
                    BankName: "808玉山商業銀行",
                    BankAccount: "12345678912345",
                    accountDay: "26",
                    payMethod: "電匯(T/T)",
                    PaymentTerms: "月結(Net30)"

                },
                {
                    CompanyName: "千美生鮮股份有限公司",
                    TaxId: "05076416",
                    Fax: "(04)-2326-5860",
                    Email: "amy680931@yahoo.com",
                    Address: "408台中市南屯區公益路二段51號18樓",
                    ContactPerson: "蘇沐橙",
                    Mobile: "(04)-2326-5860",
                    ContactPersonNum: "0912-345-678",
                    LineAccount: "amy6809",
                    BankName: "808玉山商業銀行",
                    BankAccount: "12345678912345",
                    accountDay: "26",
                    payMethod: "電匯(T/T)",
                    PaymentTerms: "月結(Net30)"

                }
            ];

        // 欄位中文名稱對應
        let cooperateListName = [
            {
                CompanyName: "廠商名稱",
                TaxId: "統一編號",
                Fax: "傳真電話",
                Email: "電子信箱",
                Address: "公司地址",
                ContactPerson: "聯絡窗口",
                Mobile: "廠商電話",
                ContactPersonNum: "窗口聯繫",
                LineAccount: "Line ID",
                BankName: "銀行名稱",
                BankAccount: "銀行帳戶",
                accountDay: "結帳日",
                payMethod: "付款方式",
                PaymentTerms: "付款條件"
            }
        ]

        // 撈資料(使用非同步資料的方式撈)。
        downloadData();
        async function downloadData() {

            // 與Server對接的ajax。
            // 邊撈同時進行後續動作。
            // var result = await $.ajax({
            //     type: "get",
            //     url: "http://localhost:3000/home/news"
            // });

            // allStockList = JSON.parse(result);

            // 撈完後解析假資料並更新畫面內容。
            reNewData();
        }

        function reNewData() {
            let pageDataNum = 5;  //每頁最多5筆資料。

            for (let i = 1; i <= pageDataNum; i++) {

                // 清空Table，把除了<th>內部<tr>之外的所有<tr>清空。
                for(let k = 0; k < 10; k++){
                    $(".cooperateTable tr")[(i-1)*10+k].innerHTML = "";
                }
                


                // 創造<tr>的Html格式，並將資料帶入。
                let trHtmlData =
                    `<th colspan="4" class="title">廠商基本資料</th>`

                let trHtmlData2 =
                    `<th>廠商名稱</th>
                    <td>${cooperateList[i-1].CompanyName}</td>
                    <th>聯絡窗口</th>
                    <td>${cooperateList[i-1].ContactPerson}</td>`

                let trHtmlData3 =
                    `<th>統一編號</th>
                    <td>${cooperateList[i-1].TaxId}</td>
                    <th>廠商電話</th>
                    <td>${cooperateList[i-1].Mobile}</td>`

                let trHtmlData4 =
                    `<th>傳真電話</th>
                    <td>${cooperateList[i-1].Fax}</td>
                    <th>窗口聯繫</th>
                    <td>${cooperateList[i-1].ContactPersonNum}</td>`

                let trHtmlData5 =
                    `<th>電子信箱</th>
                    <td>${cooperateList[i-1].Email}</td>
                    <th>Line ID</th>
                    <td>${cooperateList[i-1].LineAccount}</td>`

                let trHtmlData6 =
                    `<th>公司地址</th>
                    <td colspan="3">${cooperateList[i-1].Address}</td>`

                let trHtmlData7 =
                    `<th colspan="4" class="title">付款資料</th>`

                let trHtmlData8 =
                    `<th>銀行名稱</th>
                    <td>${cooperateList[i-1].BankName}</td>
                    <th>付款方式</th>
                    <td>
                        ${cooperateList[i-1].payMethod}
                    </td>`

                let trHtmlData9 =
                    `<th>銀行帳戶</th>
                    <td>${cooperateList[i-1].BankAccount}</td>
                    <th>付款條件</th>
                    <!-- <td>月結(Net30)</td> -->
                    <td>
                        ${cooperateList[i-1].PaymentTerms}
                    </td>`

                let trHtmlData10 =
                    `<th>結帳日</th>
                    <td>${cooperateList[i-1].accountDay}</td>`



                // 把製作完的tr放回去table中。
                $(".cooperateTable tr")[(i-1)*10+0].innerHTML = trHtmlData;
                $(".cooperateTable tr")[(i-1)*10+1].innerHTML = trHtmlData2;
                $(".cooperateTable tr")[(i-1)*10+2].innerHTML = trHtmlData3;
                $(".cooperateTable tr")[(i-1)*10+3].innerHTML = trHtmlData4;
                $(".cooperateTable tr")[(i-1)*10+4].innerHTML = trHtmlData5;
                $(".cooperateTable tr")[(i-1)*10+5].innerHTML = trHtmlData6;
                $(".cooperateTable tr")[(i-1)*10+6].innerHTML = trHtmlData7;
                $(".cooperateTable tr")[(i-1)*10+7].innerHTML = trHtmlData8;
                $(".cooperateTable tr")[(i-1)*10+8].innerHTML = trHtmlData9;
                $(".cooperateTable tr")[(i-1)*10+9].innerHTML = trHtmlData10;

                console.log(trHtmlData3);
            }

        }

    </script>

    <script>

        // MDC Button註冊動畫(待研究，沒有這邊會無法運作動畫，但理論上應該是不需要---------------)
        document.querySelectorAll('.mdc-button').forEach(
            function (ele) {
                mdc.ripple.MDCRipple.attachTo(ele);
            });


    </script>

    <script>
        // 廠商收合------------------------------------
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }


        //新增廠商-----------------------------------

        $(".container").on('click', '.cooSet', function () {
            Swal.fire({
                title: '請輸入欲新增廠商帳號',
                input: 'text',
                inputAttributes: {
                    autocapitalize: 'off'
                },
                showCancelButton: true,
                confirmButtonColor: 'var(--color-marigold)',
                cancelButtonColor: 'var(--color-irongray)',
                confirmButtonText: '確認',
                cancelButtonText: '取消',
                showLoaderOnConfirm: true,
                preConfirm: (login) => {
                    return fetch(`//api.github.com/users/${login}`)
                        .then(response => {
                            if (!response.ok) {
                                throw new Error(response.statusText)
                            }
                            return response.json()
                        })
                        .catch(error => {
                            Swal.showValidationMessage(
                                // `Request failed: ${error}`
                                `廠商帳號不得為空白`
                            )
                        })
                },
                allowOutsideClick: () => !Swal.isLoading()
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        confirmButtonColor: 'var(--color-marigold)',
                        title: `已成功新增廠商`

                    })
                }
            })

        });


    </script>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script> 
    <script src="/javascript/materialdesigninit.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>



</body>

</html>